
START:
	CALL	PRINT_HELLO
	JUMP	START	

;
;	PRINT_HELLO
;	Trashes: r0
;
;

PRINT_HELLO:
	LOAD 	s0, 0x48
	CALL	PRINT_BYTE

	LOAD	s0, 0x65
	CALL	PRINT_BYTE

	LOAD	s0, 0x6c
	CALL	PRINT_BYTE

	LOAD 	s0, 0x6c
	CALL	PRINT_BYTE

	LOAD	s0, 0x6f
	CALL	PRINT_BYTE

	LOAD	s0, 0x21
	CALL	PRINT_BYTE

	LOAD	s0, 0x0d
	CALL	PRINT_BYTE	

	LOAD	s0, 0x0a
	CALL	PRINT_BYTE

	RETURN


;
;	PRINT_BYTE
;	In:	s0 = byte
;
PRINT_BYTE:
	OUTPUT s0, 0x00 ; port 0x00 = TX_FIFO


POLL:
	INPUT	s0, 0x02 ; port 0x02 = UART_STATUS
	TEST	s0, 0x02
	JUMP 	 Z, POLL	

	RETURN

